@model IEnumerable<BE.Core.Entities.CinemaInfrastructure.Cinema>
@{
    ViewData["Title"] = "Rạp Chiếu Phim - CineMax";
}

<!-- Cinemas Page -->
<section class="py-5">
    <div class="container">
        <!-- Header -->
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="fw-bold mb-2">
                <i class="bi bi-building me-2 text-cinema-red"></i>
                Hệ Thống Rạp CineMax
            </h2>
            <p class="text-muted">Trải nghiệm điện ảnh đẳng cấp tại @Model.Count() địa điểm</p>
        </div>

        @if (!Model.Any())
        {
            <!-- Empty State -->
            <div class="text-center py-5" data-aos="fade-up">
                <i class="bi bi-building display-1 text-muted mb-3"></i>
                <h4 class="text-muted">Chưa có rạp chiếu phim nào</h4>
                <p class="text-muted">Hệ thống đang được cập nhật</p>
            </div>
        }
        else
        {
            <!-- Cinemas Grid -->
            <div class="row g-4">
                @foreach (var cinema in Model)
                {
                    <div class="col-md-6" data-aos="fade-up">
                        <div class="cinema-card glass-card p-4">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="cinema-icon">
                                        <i class="bi bi-building display-4 text-cinema-red"></i>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <h4 class="fw-bold mb-3">@cinema.Name</h4>
                                    
                                    <div class="cinema-info mb-3">
                                        <p class="mb-2">
                                            <i class="bi bi-geo-alt-fill text-cinema-red me-2"></i>
                                            @cinema.Address
                                        </p>
                                        @if (!string.IsNullOrEmpty(cinema.Phone))
                                        {
                                            <p class="mb-2">
                                                <i class="bi bi-telephone-fill text-cinema-red me-2"></i>
                                                @cinema.Phone
                                            </p>
                                        }
                                    </div>

                                    <div class="d-flex gap-2">
                                        <a href="/Cinemas/Details/@cinema.Id" class="btn btn-cinema-red btn-sm">
                                            <i class="bi bi-info-circle me-1"></i>
                                            Chi Tiết
                                        </a>
                                        <a href="/Movies?cinemaId=@cinema.Id" class="btn btn-outline-light btn-sm">
                                            <i class="bi bi-film me-1"></i>
                                            Xem Phim
                                        </a>
                                    </div>
                                </div>
                            </div>

                            @if (!string.IsNullOrEmpty(cinema.MapEmbedUrl))
                            {
                                <div class="cinema-map mt-3">
                                    <iframe 
                                        src="@cinema.MapEmbedUrl" 
                                        width="100%" 
                                        height="200" 
                                        style="border:0; border-radius: 8px;" 
                                        allowfullscreen="" 
                                        loading="lazy">
                                    </iframe>
                                </div>
                            }
                        </div>
                    </div>
                }
            </div>
        }
    </div>
</section>

<style>
    .cinema-card {
        border-radius: 12px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .cinema-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(220, 38, 38, 0.3);
    }

    .cinema-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        background: rgba(220, 38, 38, 0.1);
        border-radius: 12px;
    }

    .cinema-info p {
        font-size: 0.9rem;
    }

    .cinema-map iframe {
        filter: grayscale(0.3);
        transition: filter 0.3s ease;
    }

    .cinema-map iframe:hover {
        filter: grayscale(0);
    }
</style>
