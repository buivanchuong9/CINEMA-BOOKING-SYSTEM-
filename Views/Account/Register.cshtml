@model BE.Application.DTOs.RegisterDto
@{
    ViewData["Title"] = "Đăng Ký Thành Viên - CineMax";
    Layout = "~/Views/Shared/_AuthLayout.cshtml";
}

<div class="auth-wrapper">
    <div class="auth-panel left-panel">
        <div class="content-container fade-in-left">
            <div class="auth-header mb-5">
                <a href="/" class="brand-link">
                    <i class="bi bi-film me-2 text-cinema-red"></i>
                    <span class="fw-bold text-white tracking-wider">CINEMAX</span>
                </a>
            </div>

            <div class="mb-5">
                <h1 class="fw-bold text-white mb-2 display-5">Tạo Tài Khoản</h1>
                <p class="text-secondary">Nhập thông tin để mua vé.</p>
            </div>

            @if (!ViewData.ModelState.IsValid)
            {
                <div class="alert alert-custom mb-4 shake-animation">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                    @Html.ValidationSummary(false, "", new { @class = "mb-0 d-inline" })
                </div>
            }

            <form method="post" asp-controller="Account" asp-action="Register">
                @Html.AntiForgeryToken()

                <div class="mb-3">
                    <label asp-for="FullName" class="form-label text-secondary small fw-bold">HỌ VÀ TÊN</label>
                    <div class="position-relative">
                        <input asp-for="FullName" class="form-control custom-input" placeholder="Nhập họ và tên" />
                        <i class="bi bi-person position-absolute top-50 end-0 translate-middle-y me-3 text-secondary"></i>
                    </div>
                </div>
                <span asp-validation-for="FullName" class="text-danger small mb-3 d-block"></span>

                <div class="mb-3">
                    <label asp-for="Email" class="form-label text-secondary small fw-bold">EMAIL ĐĂNG NHẬP</label>
                    <div class="position-relative">
                        <input asp-for="Email" class="form-control custom-input" placeholder="name@example.com" />
                        <i class="bi bi-envelope position-absolute top-50 end-0 translate-middle-y me-3 text-secondary"></i>
                    </div>
                </div>
                <span asp-validation-for="Email" class="text-danger small mb-3 d-block"></span>

                <div class="mb-3">
                    <label asp-for="PhoneNumber" class="form-label text-secondary small fw-bold">SỐ ĐIỆN THOẠI</label>
                    <div class="position-relative">
                        <input asp-for="PhoneNumber" class="form-control custom-input" placeholder="Nhập số điện thoại" />
                        <i class="bi bi-telephone position-absolute top-50 end-0 translate-middle-y me-3 text-secondary"></i>
                    </div>
                </div>
                <span asp-validation-for="PhoneNumber" class="text-danger small mb-3 d-block"></span>

                <div class="row g-3">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label asp-for="Password" class="form-label text-secondary small fw-bold">MẬT KHẨU</label>
                            <input asp-for="Password" type="password" class="form-control custom-input" placeholder="Nhập mật khẩu" />
                        </div>
                        <span asp-validation-for="Password" class="text-danger small d-block"></span>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label asp-for="ConfirmPassword" class="form-label text-secondary small fw-bold">XÁC NHẬN</label>
                            <input asp-for="ConfirmPassword" type="password" class="form-control custom-input" placeholder="Nhập lại mật khẩu" />
                        </div>
                        <span asp-validation-for="ConfirmPassword" class="text-danger small d-block"></span>
                    </div>
                </div>

                <div class="form-check mb-4 mt-3">
                    <input type="checkbox" class="form-check-input custom-checkbox" id="agreeTerms" required />
                    <label class="form-check-label text-secondary small" for="agreeTerms">
                        Tôi đồng ý với <a href="#" class="text-cinema-red text-decoration-none fw-bold">Điều khoản & Chính sách</a> của CineMax
                    </label>
                </div>

                <button type="submit" class="btn btn-cinema-primary w-100 py-3 mb-4 fw-bold">
                    ĐĂNG KÝ NGAY <i class="bi bi-arrow-right ms-2"></i>
                </button>

                <div class="text-center text-secondary">
                    Đã có tài khoản VIP? 
                    <a href="/Account/Login" class="text-white fw-bold text-decoration-none hover-link">Đăng nhập</a>
                </div>
            </form>
        </div>
    </div>

    <div class="auth-panel right-panel">
        <div class="overlay"></div>
        <div class="visual-content text-center fade-in-up">
            <div class="ticket-icon mb-4">
                <i class="bi bi-ticket-perforated-fill"></i>
            </div>
            <h2 class="display-6 fw-bold text-white mb-3">Trải Nghiệm Điện Ảnh Đỉnh Cao</h2>
            <p class="text-white-50 fs-5">Đặt vé online, bỏ qua hàng chờ và nhận ưu đãi độc quyền.</p>
            
            <div class="movie-strip mt-5">
                <div class="strip-item"></div>
                <div class="strip-item"></div>
                <div class="strip-item"></div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<style>
    :root {
        --cinema-red: #e50914;
        --cinema-dark: #141414;
        --cinema-gray: #222;
        --text-muted: #8c8c8c;
    }

    body {
        background-color: #000;
        font-family: 'Inter', sans-serif;
        overflow-x: hidden;
    }

    .auth-wrapper {
        display: flex;
        min-height: 100vh;
        width: 100%;
    }

    /* LEFT PANEL STYLES */
    .left-panel {
        width: 500px;
        background-color: var(--cinema-dark);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        z-index: 2;
        box-shadow: 10px 0 30px rgba(0,0,0,0.5);
    }

    .content-container {
        width: 100%;
        max-width: 400px;
        padding: 2rem;
    }

    /* Custom Input (Non-floating) */
    .custom-input {
        background-color: #333;
        border: 1px solid transparent;
        color: #fff !important;
        border-radius: 8px;
        height: 50px;
        font-weight: 500;
        padding-right: 45px;
    }

    .custom-input:focus {
        background-color: #404040;
        border-color: var(--cinema-red);
        box-shadow: 0 0 0 4px rgba(229, 9, 20, 0.2);
        color: #fff;
    }
    
    .custom-input::placeholder {
        color: #666;
        font-size: 0.95rem;
    }

    /* Autofill Fix for Dark Theme */
    input:-webkit-autofill,
    input:-webkit-autofill:hover, 
    input:-webkit-autofill:focus, 
    input:-webkit-autofill:active {
        -webkit-box-shadow: 0 0 0 30px #333 inset !important;
        -webkit-text-fill-color: white !important;
        transition: background-color 5000s ease-in-out 0s;
        caret-color: white;
    }

    /* Checkbox */
    .custom-checkbox {
        background-color: #333;
        border-color: #444;
    }
    .custom-checkbox:checked {
        background-color: var(--cinema-red);
        border-color: var(--cinema-red);
    }

    /* Alert */
    .alert-custom {
        background: rgba(229, 9, 20, 0.1);
        border: 1px solid var(--cinema-red);
        color: #ff4d4d;
        font-size: 0.9rem;
    }

    /* Primary Button */
    .btn-cinema-primary {
        background: linear-gradient(45deg, var(--cinema-red), #b20710);
        color: white;
        border: none;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .btn-cinema-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(229, 9, 20, 0.4);
        background: linear-gradient(45deg, #ff1f1f, #d30913);
        color: white;
    }

    /* RIGHT PANEL STYLES */
    .right-panel {
        flex: 1;
        background-image: url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?q=80&w=2525&auto=format&fit=crop');
        background-size: cover;
        background-position: center;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .right-panel .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, rgba(20, 20, 20, 0.9), rgba(229, 9, 20, 0.6));
    }

    .visual-content {
        position: relative;
        z-index: 3;
        max-width: 500px;
        padding: 2rem;
    }

    .ticket-icon {
        font-size: 4rem;
        color: rgba(255, 255, 255, 0.2);
        animation: float 4s ease-in-out infinite;
    }

    .text-cinema-red { color: var(--cinema-red) !important; }
    .tracking-wider { letter-spacing: 2px; }
    .hover-link:hover { color: var(--cinema-red) !important; transition: color 0.3s; }

    /* Animations */
    @@keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-15px); }
    }

    @@keyframes fadeIn {
        from { opacity: 0; transform: translateX(-20px); }
        to { opacity: 1; transform: translateX(0); }
    }
    
    .fade-in-left { animation: fadeIn 0.8s ease-out; }

    @@media (max-width: 992px) {
        .right-panel { display: none; }
        .left-panel { width: 100%; box-shadow: none; }
    }
</style>